@model EmployeeEditViewModel

@{
    ViewBag.Title = "Edit Employee";
    var photoPath = "~/Images/" + (Model.ExistingPhotoPath ?? "noimg.png");
}

<div class="columns is-mobile is-centered">
    <div class="column is-narrow">
        <form enctype="multipart/form-data" asp-controller="Home" asp-action="edit" method="post">
            <input hidden asp-for="Id" />
            <input hidden asp-for="ExistingPhotoPath" />
            <div class="panel mt-2" style="width: 400px;">
                <p class="panel-heading">
                    @ViewBag.Title
                </p>
                <div class="panel-block">
                    <div class="container">
                        <div class="columns is-mobile is-centered mt-1 mb-1">
                            <div class="column is-narrow">
                                <figure class="image is-128x128 is-center">
                                    <img class="is-rounded" src="@photoPath" asp-append-version="true" />
                                </figure>
                            </div>
                        </div>
                        <div class="field is-horizontal">
                            <div class="field-body">
                                <div class="field">
                                    <p class="control has-icons-left">
                                        <input class="input" asp-for="Name" />
                                        <span class="icon is-small is-left">
                                            <i class="fa fa-user"></i>
                                        </span>
                                    </p>
                                    <span asp-validation-for="Name" class="is-danger help"></span>
                                </div>
                            </div>
                        </div>
                        <div class="field is-horizontal">
                            <div class="field-body">
                                <div class="field">
                                    <p class="control has-icons-left">
                                        <input class="input" asp-for="Email" />
                                        <span class="icon is-small is-left">
                                            <i class="fa fa-envelope"></i>
                                        </span>
                                    </p>
                                    <span asp-validation-for="Email" class="is-danger help"></span>
                                </div>
                            </div>
                        </div>
                        <div class="field is-horizontal">
                            <div class="field-body">
                                <div class="field">
                                    <p class="control has-icons-left">
                                        <select class="input" asp-for="Department" asp-items="Html.GetEnumSelectList<Dept>()">
                                            <option value="">Please select department</option>
                                        </select>
                                        <span class="icon is-small is-left">
                                            <i class="fa fa-building"></i>
                                        </span>
                                    </p>
                                    <span asp-validation-for="Department" class="is-danger help"></span>
                                </div>
                            </div>
                        </div>
                        <div class="field has-addons">
                            <div class="control">
                                <button class="button is-static"><i class="fa fa-photo"></i></button>
                            </div>
                            <div class="control">
                                <div class="file is-right is-info is-fullwidth">
                                    <label class="file-label">
                                        <input class="file-input" asp-for="Photo">
                                        <span class="file-cta">
                                            <span class="file-icon">
                                                <i class="fa fa-upload"></i>
                                            </span>
                                            <span class="file-label">
                                            </span>
                                        </span>
                                        <span class="file-name">
                                            Change your photo...
                                        </span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-block">
                    <div class="control">
                        <div class="columns">
                            <div class="column">
                                <button class="button is-danger is-outlined is-fullwidth">
                                    Update
                                </button>
                            </div>
                            <div class="column">
                                <a asp-controller="home" asp-action="index"
                                   class="button is-link is-outlined is-fullwidth">
                                    Cancel
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
